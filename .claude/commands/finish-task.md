# Команда: Завершение задачи

## Назначение

Корректное завершение задачи с обновлением всех артефактов.

## Когда использовать

- После успешного завершения задачи
- После прохождения code review
- Перед коммитом

## Действия

### 1. Проверка завершённости

```markdown
## Чек-лист завершения

### Код
- [ ] Все изменения внесены
- [ ] syntaxcheck пройден
- [ ] Code review пройден (для feature-development)

### Качество
- [ ] Код соответствует стандартам
- [ ] Нет TODO без номера задачи
- [ ] Нет закомментированного кода

### Документация
- [ ] Комментарии добавлены где нужно
- [ ] API документация обновлена (если применимо)
```

### 2. Обновление TodoWrite

Отметить задачу как completed:

```
TodoWrite:
- [completed] {ID}: {Описание}
```

### 3. Обновление трекера (если настроен)

```bash
# Yougile
$YOUGILE_CLI task move <task_id> --column-id <done_id>
$YOUGILE_CLI task complete <task_id>

# GitHub Issues
gh issue close <number> --comment "Выполнено в коммите {hash}"
```

### 4. Создание коммита

```bash
git add <файлы>
git commit -m "{type}({scope}): {описание}

{Подробное описание если нужно}

Refs: {ID}"
```

### 5. Обновление Memory Bank

#### activeContext.md
- Убрать задачу из активных
- Обновить текущий фокус

#### progress.md
Добавить запись:

```markdown
## [YYYY-MM-DD] — {ID}: {Краткое описание}

### Что сделано
- {Пункт 1}
- {Пункт 2}

### Изменённые файлы
- {Файл 1}
- {Файл 2}

### Ключевые решения
- {Решение}: {Обоснование}
```

### 6. Удаление TASK.md (если был создан)

Или архивирование в `.claude/archive/` если нужно сохранить.

### 7. Вывод результата

```markdown
## Задача завершена

### ID
{ID}

### Описание
{Описание}

### Результат
{Краткое описание что сделано}

### Изменённые файлы
- {Файл 1}
- {Файл 2}

### Коммит
{hash} — {message}

---
Что дальше?
```

## Пример вызова

```
Завершить задачу FEAT-123
```

или

```
/finish FEAT-123
```

## Автоматическое завершение

Если задача была в TodoWrite и все шаги выполнены:

```
Задача выполнена, завершаю.
```

Claude автоматически выполнит все шаги завершения.
