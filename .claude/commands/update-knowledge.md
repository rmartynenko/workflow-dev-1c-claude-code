# Команда: Обновление базы знаний

## Назначение

Актуализация Memory Bank и документации проекта при изменениях структуры расширения.

## Когда использовать

- После добавления новых модулей
- После изменения структуры документов/справочников
- После добавления новых регистров
- При изменении логики интеграции
- Периодически для проверки актуальности

## Действия

### 1. Сканирование структуры

Просканировать директорию исходников:
```
[путь к src расширения]
```

Собрать информацию о:
- Общих модулях (количество, имена)
- Документах
- Справочниках
- Регистрах сведений
- Регистрах накопления
- Перечислениях

### 2. Обновление CLAUDE.md

- Обновить версию расширения
- Обновить счётчики объектов метаданных
- Актуализировать структуру модулей

### 3. Обновление Memory Bank

#### techContext.md
- Список модулей с описаниями
- Зависимости
- MCP конфигурация

#### systemPatterns.md (если нужно)
- Новые архитектурные решения
- Изменения в паттернах

#### productContext.md (если нужно)
- Новые бизнес-правила
- Изменения в сценариях

### 4. Проверка базовой конфигурации

Если указан путь к базовой конфигурации — проверить актуальность версии.

### 5. Вывод отчёта

```markdown
## Отчёт об обновлении базы знаний

### Дата
[Текущая дата]

### Изменения в структуре

#### Добавлено
- [Тип]: [Название]

#### Удалено
- [Тип]: [Название]

#### Изменено
- [Описание изменений]

### Обновлённые файлы
- [ ] CLAUDE.md
- [ ] techContext.md
- [ ] systemPatterns.md
- [ ] productContext.md

### Рекомендации
- [Если есть]
```

## Пример вызова

```
/update-knowledge

или

Выполни команду обновления базы знаний из .claude/commands/update-knowledge.md
```

## Автоматизация

Рекомендуется выполнять:
- После каждого значимого изменения структуры
- В начале новой итерации разработки
- При переключении между проектами
