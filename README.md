# Правила разработки 1С с Claude Code

Единые стандарты и методология разработки расширений и конфигураций 1С:Предприятие 8 с использованием AI-ассистента Claude Code.

## Назначение

Этот репозиторий содержит шаблон правил для организации эффективной разработки на платформе 1С с помощью Claude Code. Правила основаны на анализе лучших практик из реальных проектов.

## Быстрый старт

### 1. Скопировать в свой проект

```bash
# Скопировать структуру .claude/ и CLAUDE.md в корень проекта
cp -r .claude/ /path/to/your/project/
cp CLAUDE.md /path/to/your/project/
```

### 2. Адаптировать под проект

Отредактировать `CLAUDE.md`:
- Указать название и версию проекта
- Указать префикс расширения (например: `бэкс`, `бтех`)
- Настроить MCP серверы

Заполнить Memory Bank:
- `.claude/memory-bank/projectbrief.md` — описание проекта
- `.claude/memory-bank/techContext.md` — технический стек

### 3. Начать работу

```
/start
```

## Структура

```
.
├── CLAUDE.md                    # Главная конфигурация
├── .claude/
│   ├── rules/                   # Стандарты и правила
│   │   ├── 1c-code.md          # Правила кодирования 1С
│   │   ├── comments.md         # Политика комментариев
│   │   ├── git-workflow.md     # Работа с Git
│   │   ├── versioning.md       # Версионирование
│   │   ├── task-management.md  # Управление задачами
│   │   ├── mcp-integration.md  # MCP серверы
│   │   └── testing.md          # Тестирование
│   ├── workflows/               # Процессы разработки
│   │   ├── feature-development.md  # 7-фазный workflow
│   │   └── small-changes.md        # 5-шаговый workflow
│   ├── agents/                  # AI-агенты
│   │   ├── explorer.md         # Исследователь кодовой базы
│   │   ├── architect.md        # Архитектор решений
│   │   ├── writer.md           # Разработчик кода
│   │   └── reviewer.md         # Рецензент кода
│   ├── memory-bank/             # Контекст проекта (шаблоны)
│   │   ├── projectbrief.md     # Описание проекта
│   │   ├── productContext.md   # Бизнес-контекст
│   │   ├── systemPatterns.md   # Архитектурные решения
│   │   ├── techContext.md      # Технический стек
│   │   ├── activeContext.md    # Текущее состояние
│   │   └── progress.md         # История изменений
│   └── commands/                # Команды
│       ├── start-session.md    # Начало сессии
│       ├── new-task.md         # Регистрация задачи
│       ├── finish-task.md      # Завершение задачи
│       └── update-knowledge.md # Обновление знаний
└── README.md
```

## Команды

| Команда | Описание |
|---------|----------|
| `/start` | Начало сессии — загрузка контекста, синхронизация |
| `/new-task [описание]` | Регистрация новой задачи |
| `/finish [ID]` | Завершение задачи с коммитом |
| `/update-knowledge` | Актуализация базы знаний |

## Workflows

### Полный (7 фаз) — для новой функциональности

```
Discovery → Explore → Clarify → Design → Implement → Review → Summary
```

### Упрощённый (5 шагов) — для небольших изменений

```
Clarify → Locate → Change → Verify → Deliver
```

## Ключевые принципы

### Разделение ответственности

| Кто | Что делает |
|-----|------------|
| **Пользователь** | Создаёт объекты метаданных в Конфигураторе/EDT |
| **Claude Code** | Пишет код модулей (.bsl файлы) |

### Правила кодирования

- Язык кода: **русский** (кириллица)
- Кодировка: **UTF-8 with BOM**
- Отступы: **табуляция** (4 символа)
- Максимальная длина строки: **120 символов**
- Именование: **PascalCase**, говорящие имена

### Обязательные проверки

Перед написанием кода проверять через MCP:
1. `docsearch` — методы платформы
2. `ssl_search` — функции БСП
3. `templatesearch` — готовые шаблоны
4. `syntaxcheck` — проверка синтаксиса

## Memory Bank

Система сохранения контекста между сессиями:

| Файл | Назначение | Обновление |
|------|------------|------------|
| `projectbrief.md` | Описание проекта | При изменении scope |
| `productContext.md` | Бизнес-контекст | При изменении требований |
| `systemPatterns.md` | Архитектура | При архитектурных решениях |
| `techContext.md` | Технологии | При изменении стека |
| `activeContext.md` | Текущий фокус | Каждую сессию |
| `progress.md` | История | После каждой задачи |

## Источники

Правила основаны на анализе проектов:
- [profbuh-api-2026](https://github.com/) — REST API для 1С
- [btech-uat-ext](https://github.com/) — Интеграция УАТ
- [1c-ai-feature-dev-workflow](https://github.com/AndreevED/1c-ai-feature-dev-workflow) — AI workflow для 1С
- [cursor_rules_1c](https://github.com/comol/cursor_rules_1c) — Правила Cursor для 1С

## Требования

- **Платформа 1С**: 8.3.21+ (рекомендуется 8.3.25+)
- **БСП**: 3.1.6+ (рекомендуется 3.1.10+)
- **Claude Code**: актуальная версия
- **MCP серверы**: опционально, для расширенной функциональности

## Лицензия

MIT

---

*Создано с помощью Claude Code*
